<!DOCTYPE html>	
<meta charset="utf-8" /> 
<html>
  <head>

     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

   <script>
    $(document).ready(function(){

    $( "#buscar" ).click(function() {
          
        var titulo = $( "#titulo" ).val()
       
        $.ajax({
          method: "POST",
          url: "http://ec2-3-16-56-184.us-east-2.compute.amazonaws.com:3030/ludufma/query",
          data: { query: 

                'PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\
                PREFIX owl: <http://www.w3.org/2002/07/owl#>\
                PREFIX ns: <http://linkedscience.org/teach/ns#>\
                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\
                PREFIX dc: <http://purl.org/dc/elements/1.1/>\
                PREFIX foaf: <http://xmlns.com/foaf/0.1/>\
                SELECT ?titulo ?discente ?orientador ?curso\
                WHERE\
                {\
                ?m dc:title ?titulo.\
                ?m dc:creator ?url_discente.\
                ?m dc:contributor ?url_docente.\
                ?url_discente foaf:name ?discente.\
                ?url_discente foaf:member ?url_curso.\
                ?url_curso ns:courseTitle ?curso.\
                ?url_docente foaf:name ?orientador.\
                ?url_docente foaf:interest ?interesse_orientador.\
                FILTER regex(?titulo,"' + titulo + '", "i")\
                }\
                limit 20'
                }
          })
          .done(function( msg ) {
            var dados = msg.results.bindings
           $('#dados').html("")
            $('#dados').append(  '<table />' );
            $('#dados table').append ("<tr> <th>Titulo </th> <th> Discente </th>  <th> Orientador </th> </tr>")
            for (var i in dados) {
       
                $('#dados table').append( '<tr><td>' + dados[i].titulo.value +  '</td><td>'  + dados[i].discente.value + '</td><td>' +  dados[i].orientador.value   + '</td></tr>' );
            }
          });
    });

       })
        
    </script>
  </head>
  <body>
    <p>Entre com um texto para ser buscado dentro de um título de monografia</p>
    <input type="text" id="titulo" name="titulo" />
    <input type="submit" id="buscar" value="Buscar por título" />    
    <h2>Dados </h2>
    
    <div id="Monografias">
    
    </div>

 </body>
</html>

